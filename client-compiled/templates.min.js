angular.module("app").run(["$templateCache",function(a){a.put("modules/main/consensus-scores/modal/view.html",'<div class="modal-header"><span ng-click="cancel()" class="close" style="margin: -10px -10px; padding: 10px 10px">&times;</span><h3 class="modal-title" style="margin: 20px 15px 5px 15px">Consensus Score Comparison<div class="badge">{{scoresheets[0].essay.id}}</div><a href="{{\'https://docs.google.com/viewerng/viewer?url=\'+scoresheets[0].essay.link}}" target="_blank"><i class="glyphicon glyphicon-new-window" style="font-size: 60%"></i></a></h3></div><div class="modal-body"><table class="table"><thead><th ng-repeat="field in fields" class="text-center">{{field|capitalize}}</th></thead><tbody><tr ng-repeat="sheet in scoresheets"><td ng-repeat="field in fields" class="text-center"><div ng-if="[\'grader\', \'rubric\'].indexOf(field) < 0">{{sheet.score[field]}}</div><div ng-if="field === \'grader\'">{{sheet.user.name}}</div><div ng-if="field === \'rubric\'">{{sheet.rubric.name}}</div></td></tr></tbody></table></div>'),a.put("modules/main/consensus-scores/view.html",'<div class="jumbotron" style="background: #677F71; padding-top: 12px; padding-bottom: 18px"><h2 class="text-center" style="color: whitesmoke">Consensus Scores</h2></div><div ng-if="successMessages.length" class="container" style="max-width: 600px"><div ng-repeat="message in successMessages" class="alert alert-success" style="margin: 10px 0 0"><span ng-click="closeSuccessMessage($index)" class="close">&times</span> {{message}}</div></div><div ng-if="errorMessages.length" class="container" style="max-width: 600px"><div ng-repeat="message in errorMessages" class="alert alert-danger" style="margin: 10px 0 0"><span ng-click="closeErrorMessage($index)" class="close">&times</span> {{message}}</div></div><div ng-if="scoresheets.length" class="container"><table class="table table-bordered table-hover"><thead><th ng-repeat="field in fields">{{field|capitalize}}</th></thead><tbody><tr ng-repeat="sheet in scoresheets | orderBy:[\'essay.id\', \'user.name\']" ng-init="sheetIndex = $index+1" style="cursor: pointer" ng-style="{\'border-top\': (!scoresheets[sheetIndex-2] || scoresheets[sheetIndex-2].essay.id !== sheet.essay.id) ? \'solid\' : \'\'}" uib-tooltip="click for details" tooltip-placement="right"><td ng-repeat="field in fields" ng-click="!(field === \'edit\' && sheet.user._id === user._id) && viewDetails(sheet.essay.id)"><div ng-if="[\'no\', \'essay\', \'grader\', \'date\', \'rubric\', \'score\', \'edit\'].indexOf(field) < 0">{{sheet[field]}}</div><div ng-if="field === \'no\'">{{sheetIndex}}</div><div ng-if="field === \'essay\'">{{sheet.essay.id}}</div><div ng-if="field === \'grader\'">{{sheet.user.name}}</div><div ng-if="field === \'date\'">{{sheet.created|date:\'short\'}}</div><div ng-if="field === \'rubric\'">{{sheet.rubric.name}}</div><div ng-if="field === \'score\'">{{sheet.score|averageScore}}</div><div ng-if="field === \'edit\'"><button ng-if="sheet.user._id === user._id" class="btn btn-xs" ui-sref="grade({scoresheet: sheet._id})"><i class="glyphicon glyphicon-pencil"></i> &nbsp; edit</button></div></td></tr></tbody></table></div>'),a.put("modules/main/download/modal/view.html",'<div class="modal-header"><span ng-click="cancel()" class="close" style="margin: -10px -10px; padding: 10px 10px">&times;</span><h3 class="modal-title">Download Graded Work</h3></div><div class="modal-body"><p>Not set up yet.</p></div>'),a.put("modules/main/download/view.html",'<div class="jumbotron" style="background: #677F71; padding-top: 12px; padding-bottom: 18px"><h2 class="text-center" style="color: whitesmoke">Download</h2></div><div class="container text-center" style="margin-top: 100px"><button ng-click="downloadGradedWork()" class="btn btn-lg btn-success">Download Graded Work</button></div>'),a.put("modules/main/grade/modal/consensus.html",'<div class="modal-header"><span ng-click="cancel()" class="close" style="margin: -10px -10px; padding: 10px 10px">&times;</span><h3 class="modal-title">Scores Saved!</h3></div><div class="modal-body"><div style="margin-bottom: 10px"><p style="text-align: center; margin: 20px 0 10px 0; font-size: 120%"><strong><em>Someone else has also scored this essay.</em></strong><br>Want to review your consensus scores?</p><button ng-click="reviewConsensusScores()" class="btn btn-lg btn-block btn-info" style="max-width: 50%; margin: auto">Review Consensus Scores</button></div><p style="text-align: center; margin: 25px 0 0 0">- or -</p><div style="margin-bottom: 10px"><p style="text-align: center; margin: 20px 0 10px 0; font-size: 120%">Ready to grade another essay?</p><button ng-click="nextEssay()" class="btn btn-lg btn-block btn-success" style="max-width: 50%; margin: auto">Grade Another Essay</button></div></div>'),a.put("modules/main/grade/modal/done.html",'<div class="modal-header"><span ng-click="cancel()" class="close" style="margin: -10px -10px; padding: 10px 10px">&times;</span><h3 class="modal-title">All Done!</h3></div><div class="modal-body"><div style="margin-bottom: 10px"><div class="alert alert-success text-center" style="margin-bottom: 0">All essays have been graded. Thanks for your help!</div></div></div>'),a.put("modules/main/grade/modal/error.html",'<div class="modal-header"><span ng-click="cancel()" class="close" style="margin: -10px -10px; padding: 10px 10px">&times;</span><h3 class="modal-title">{{header}}</h3></div><div class="modal-body"><div class="alert alert-danger text-center" style="margin-bottom: 0">{{message}}</div></div>'),a.put("modules/main/grade/modal/invalid.html",'<div class="modal-header"><span ng-click="cancel()" class="close" style="margin: -10px -10px; padding: 10px 10px">&times;</span><h3 class="modal-title">Warning!</h3></div><div class="modal-body"><div class="alert alert-danger text-center" style="margin-bottom: 0"><i class="glyphicon glyphicon-hand-right" style="color: red"></i>&nbsp; Please score all rubric elements before saving.</div></div>'),a.put("modules/main/grade/modal/next.html",'<div class="modal-header"><span ng-click="cancel()" class="close" style="margin: -10px -10px; padding: 10px 10px">&times;</span><h3 class="modal-title">Scores Saved!</h3></div><div class="modal-body"><div style="margin-bottom: 10px"><p style="text-align: center; margin: 20px 0 10px 0; font-size: 120%">Ready for the next one?</p><button ng-click="nextEssay()" class="btn btn-lg btn-block btn-success" style="max-width: 50%; margin: auto">Grade Another Essay</button></div></div>'),a.put("modules/main/grade/modal/skip.html",'<form ng-submit="clickSkip() && form.$valid && skip()" id="form" name="form" novalidate><div class="modal-header"><span ng-click="cancel()" class="close" style="margin: -10px -10px; padding: 10px 10px">&times;</span><h3 class="modal-title">Skip Essay</h3></div><div class="modal-body"><div class="form-group"><label>Reason</label><input ng-model="params.reason" class="form-control" placeholder="why are you skipping this essay?" required></div><div class="alert alert-info text-center" style="margin-bottom: 5px"><em>Note:</em> You can get back to skipped essays on the <span class="btn btn-sm btn-default" style="margin: 0 5px"><i class="glyphicon glyphicon-pencil"></i> Graded Work</span> page.</div></div><div class="modal-footer"><button type="submit" class="btn btn-block btn-success" style="max-width: 50%; margin: auto">Skip Essay</button><p ng-if="status.clicked && !form.$valid" style="color: red; text-align: center; margin-top: 10px">* please provide a reason *</p></div></form>'),a.put("modules/main/grade/view.html",'<div ng-init="initializeGradeDashboard()" class="text-center" style="height: 65px; padding: 15px; border-top: thin solid; border-bottom: thin solid; background-color: lightblue"><button ui-sref="graded-work" class="btn btn-default pull-left"><i class="glyphicon glyphicon-arrow-left"></i> &nbsp;back to graded work</button> <button ng-click="switchSides()" class="btn btn-default text-center"><i class="glyphicon glyphicon-share-alt" style="transform: rotate(90deg) scaleY(-1)"></i> Switch <i class="glyphicon glyphicon-share-alt" style="transform: rotate(90deg)"></i></button> <button ng-if="params.scoresheet" ng-click="nextEssay()" class="btn btn-default pull-right" style="margin-left: 5px">next essay&nbsp; <i class="glyphicon glyphicon-arrow-right"></i></button> <button ng-click="clickSave() && save()" class="btn btn-success pull-right" style="margin-left: 5px">save</button> <button ng-if="!params.scoresheet" ng-click="skip()" class="btn btn-default pull-right">skip</button></div><div style="display: flex; position: fixed; top: 65px; left: 0; right: 0; bottom: 0"><div resizable r-directions="[\'right\']" r-flex="true" class="resizable" r-grabber="<div style=\'height: 100%; width: 100%; border-left: thin solid; border-right: thin solid; background-color: lightblue;\'></div>" style="width: 50%; max-width: 80%; min-width: 200px"><ng-include src="user.rubricSide === \'right\' ? \'modules/main/grade/views/text.html\' : \'modules/main/grade/views/rubric.html\'"></ng-include></div><div style="flex: 1; margin-left: 14px"><ng-include src="user.rubricSide === \'right\' ? \'modules/main/grade/views/rubric.html\' : \'modules/main/grade/views/text.html\'"></ng-include></div></div>'),a.put("modules/main/grade/views/rubric.html",'<div style="height: 100%; width: 100%; overflow-y: auto; padding: 15px; background-color: gainsboro"><div ng-if="status.newRubric" class="alert alert-success text-center">heads up &nbsp; <i class="glyphicon glyphicon-hand-down"></i> &nbsp; new rubric</div><h3 style="text-align: center; margin-top: 10px">Rubric</h3><div ng-if="!status.processingRubrics && docs.rubrics.$resolved" class="form-group"><div style="max-width: 350px; margin: auto"><select ng-model="params.rubric" class="form-control" name="rubric" required><option ng-repeat="rubric in docs.rubrics | orderBy:name" value="{{rubric._id}}">{{rubric.name}}</option></select></div></div><span ng-if="status.processingRubrics" class="spinner-sm" style="margin: auto"></span><h3 style="text-align: center; margin-top: 10px">Scoring Elements</h3><span ng-if="status.processingRubric" class="spinner-sm" style="margin: auto"></span><div ng-if="docs.rubric"><div ng-init="updateRubricTableWidth()" class="text-center" style="margin-bottom: 5px"><div class="btn-group"><button ng-click="switchRubricElements(\'show all\')" class="btn btn-xs btn-default" ng-class="{\'active\': user.rubricElements === \'show all\'}">show all</button> <button ng-click="switchRubricElements(\'one at a time\')" class="btn btn-xs btn-default" ng-class="{\'active\': user.rubricElements === \'one at a time\'}">one at a time</button></div></div><hr style="margin: 10px 0 5px"><div ng-if="status.clickSave && !status.formValid && user.rubricElements === \'show all\'" class="alert alert-danger text-center" style="margin-bottom: 5px"><i ng-if="status.clickSave && !params.score[field.name]" class="glyphicon glyphicon-hand-right" style="color: red"></i>&nbsp; Warning! Please score all elements before saving.</div><div ng-if="status.formValid && !status.saved && user.rubricElements === \'show all\'" class="alert alert-success text-center" style="margin-bottom: 5px">All elements scored! Please click save.</div><div id="rubric-table" style="display: flex; flex-direction: column"><div ng-repeat="field in docs.rubric.fields" ng-init="fieldIndex = $index" style="flex: 1; margin: 2px 0; padding: 5px" ng-style="{\'background-color\': (docs.rubric.fields[fieldIndex].visible) ? \'lightblue\' : \'\'}"><p ng-if="docs.rubric.fields[fieldIndex].visible" style="margin-bottom: 5px"><i ng-if="params.score[field.name]" class="glyphicon glyphicon-ok" style="color: green"></i> <i ng-if="status.clickSave && !params.score[field.name]" class="glyphicon glyphicon-hand-right" style="color: red"></i>&nbsp; <span style="font-style: italic; font-weight: bold">{{field.name|capitalize}}</span></p><div ng-if="!docs.rubric.fields[fieldIndex].visible"><i ng-if="params.score[field.name]" class="glyphicon glyphicon-ok" style="color: green"></i> <i ng-if="status.clickSave && !params.score[field.name]" class="glyphicon glyphicon-hand-right" style="color: red"></i>&nbsp; <span>{{field.name|capitalize}}</span> <span ng-if="params.score[field.name]" style="font-weight: bold">:&nbsp;&nbsp;{{params.score[field.name]}}</span> <button ng-if="params.score[field.name]" type="button" ng-click="editField(fieldIndex)" class="btn btn-xs btn-default" style="margin-left: 15px"><span style="margin: 0 2px"><i class="glyphicon glyphicon-pencil"></i> edit</span></button></div><div ng-if="docs.rubric.fields[fieldIndex].visible" class="btn-group-custom" style="display: flex" ng-style="{\'flex-direction\': (status.rubricTableWidth > 700) ? \'row\' : \'column\'}"><button ng-repeat="detail in field.details" ng-click="scoreField(fieldIndex, field.name, detail.score)" class="btn" ng-class="{active: params.score[field.name] === detail.score}" style="white-space: normal" ng-style="{flex: (detail.text) ? 5 : 1, \'font-size\': (detail.text) ? \'100%\' : \'80%\'}" type="button" uib-tooltip="{{detail.score}}"><span ng-style="{margin: (detail.text) ? \'auto\' : \'-10px\'}">{{detail.text || detail.score}}</span></button></div></div></div><div style="min-height: 200px; margin-top: 10px"><div ng-if="status.clickSave && !status.formValid" class="alert alert-danger text-center"><i ng-if="status.clickSave && !params.score[field.name]" class="glyphicon glyphicon-hand-right" style="color: red"></i>&nbsp; Warning! Please score all elements before saving.</div><div ng-if="status.formValid && !status.saved" class="alert alert-success text-center">All elements scored! Please click save.</div></div></div></div>'),a.put("modules/main/grade/views/text.html",'<div style="height: 100%; width: 100%; overflow-y: hidden; background-color: lightgray"><div style="display: flex; flex-direction: column; height: 100%"><div ng-if="!status.hidePrompt" style="margin: 15px 15px 0 15px"><div ng-if="status.newPrompt" class="alert alert-success text-center">heads up &nbsp; <i class="glyphicon glyphicon-hand-down"></i> &nbsp; new prompt</div><h3 style="text-align: center">Prompt <span ng-if="!status.hidePrompt" class="badge">{{docs.essay.module}}</span></h3><div ng-if="!status.processingEssay" class="well" style="margin-bottom: 0">{{docs.essay.prompt}}</div><button ng-click="switchPrompt()" class="btn btn-xs btn-default pull-right" style="margin: -10px 10px 0 0">hide prompt</button><div ng-if="status.processingEssay" class="spinner-sm" style="margin: auto"></div></div><div ng-if="status.hidePrompt" class="text-center"><button ng-click="switchPrompt()" class="btn btn-xs btn-default" style="margin: 10px 0 5px 0">show prompt</button></div><h3 ng-if="!status.hidePrompt" style="text-align: center; margin: 20px 15px 5px 15px">Text <span class="badge">{{docs.essay.id}}</span> <a href="{{\'https://docs.google.com/viewerng/viewer?url=\'+docs.essay.link}}" target="_blank"><i class="glyphicon glyphicon-new-window" style="font-size: 60%"></i></a></h3><div ng-if="status.processingEssay" class="spinner-sm" style="margin: auto; margin-top: 5px; z-index: 0"></div><iframe ng-if="docs.essay.iframeLink" id="iframe-text" ng-src="{{docs.essay.iframeLink}}" frameborder="0" scrolling="no" height="100%" width="100%" style="flex: 1; z-index: 1"></iframe></div></div>'),a.put("modules/main/graded-work/create/view.html",'<div class="modal-header"><span ng-click="cancel()" class="close" style="margin: -10px -10px; padding: 10px 10px">&times;</span><h3 class="modal-title">New Score Sheet</h3></div><div class="modal-body"><div ng-if="status.errorMessage" class="col-sm-12 alert alert-danger"><span ng-click="closeErrorMessage($index)" class="close">&times</span> {{status.errorMessage}}</div><form class="form-horizontal" style="margin-top: 15px" name="form" novalidate><div ng-if="!user.admin" class="form-group"><label class="col-sm-3 control-label">Grader:</label><div class="col-sm-4"><input type="text" name="grader" value="{{user.name}}" class="form-control" required disabled="disabled"></div></div><div ng-if="user.admin" class="form-group"><label class="col-sm-3 control-label">Graders:</label><div class="col-sm-4"><select ng-model="params.grader" class="form-control" name="grader" required><option ng-repeat="grader in graders | orderBy:name">{{grader.name}}</option></select></div><div ng-if="!params.grader" class="col-sm-4" style="height: 34px; padding-top: 8px"><span style="color: blue"><i class="glyphicon glyphicon-hand-left"></i> &nbsp;select a grader</span></div></div><div ng-if="params.grader" class="form-group"><label class="col-sm-3 control-label">Student Work Id:</label><div class="col-sm-4"><input ng-model="params.studentWorkId" class="form-control" name="studentWorkId" placeholder="student work document id" required></div><div ng-if="!params.studentWorkId || !status.getRubric" class="col-sm-4" style="height: 34px; padding-top: 8px"><span ng-style="{color: (!params.studentWorkId) ? \'blue\' : \'gray\'}"><i class="glyphicon glyphicon-hand-left"></i> &nbsp;enter your document id</span></div></div><div ng-if="params.grader && !status.getRubric" class="form-group"><div class="col-sm-3"></div><div class="col-sm-4"><button ng-if="!rubric" ng-click="getRubric()" class="btn btn-block btn-default" ng-class="{\'btn-success\': !form.studentWorkId.$pristine}">Get Rubric</button></div><div ng-if="params.studentWorkId && !params.getRubric" class="col-sm-4" style="height: 34px; padding-top: 8px"><span style="color: blue"><i class="glyphicon glyphicon-hand-left"></i> &nbsp;click this button</span></div></div><div ng-if="status.getRubric" class="form-group"><label class="col-sm-3 control-label">Rubric:</label><div class="col-sm-4"><select ng-model="params.rubric" class="form-control" name="rubric" required><option ng-repeat="rubric in rubrics | orderBy:name" value="{{rubric._id}}">{{rubric.name}}</option></select></div><div ng-if="!rubric" class="col-sm-4" style="height: 34px; padding-top: 8px"><span style="color: blue"><i class="glyphicon glyphicon-hand-left"></i> &nbsp;select a rubric</span></div><div ng-if="rubric" class="col-sm-4" style="height: 34px; padding-top: 8px"><span style="color: blue"><i class="glyphicon glyphicon-hand-down"></i> &nbsp;score each field below</span></div></div><div ng-if="rubric"><table class="table"><thead><th><strong>Scoring Elements</strong></th></thead><tbody><tr ng-repeat="field in rubric.fields" ng-init="fieldIndex = $index" ng-style="{\'background-color\': (rubric.fields[fieldIndex].visible) ? \'lightblue\' : \'\'}"><td style="width: 15%; vertical-align: middle" ng-style="{\'font-style\': (rubric.fields[fieldIndex].visible) ? \'italic\' : \'normal\', \'font-weight\': (rubric.fields[fieldIndex].visible) ? \'bold\' : \'normal\'}">{{field.name|capitalize}}</td><td style="vertical-align: middle"><div ng-if="params.score[field.name] && !rubric.fields[fieldIndex].visible">{{params.score[field.name]}} <button type="button" ng-click="editField(fieldIndex)" class="btn btn-xs btn-default" style="margin-left: 15px"><span style="margin: 0 2px"><i class="glyphicon glyphicon-pencil"></i> edit</span></button></div><div ng-if="rubric.fields[fieldIndex].visible" class="btn-group-custom" style="width: 100%; height: 100%"><button ng-repeat="detail in field.details" ng-click="scoreField(fieldIndex, field.name, detail.score)" class="btn" ng-class="{active: params.score[field.name] === detail.score}" style="white-space: normal; height: 100%" ng-style="{width: (detail.text) ? \'21%\' : \'5%\', \'font-size\': (detail.text) ? \'100%\' : \'80%\'}" type="button" uib-tooltip="{{(detail.text) ? detail.score : \'\'}}"><span ng-style="{margin: (detail.text) ? \'auto\' : \'-10px\'}">{{detail.text || detail.score}}</span></button></div></td></tr></tbody></table></div></form><hr><button ng-if="rubric" ng-click="click() && save()" class="btn btn-block btn-default" ng-class="{\'btn-success\': status.formValid}" style="max-width: 25%; margin: auto" type="submit">Save</button><p ng-if="status.clicked && !status.formValid" class="help-block text-center" style="color: red">* please score all fields before saving *</p></div>'),a.put("modules/main/graded-work/edit/view.html",'<div class="modal-header"><span ng-click="cancel()" class="close" style="margin: -10px -10px; padding: 10px 10px">&times;</span><h3 class="modal-title">Edit Score Sheet</h3></div><div class="modal-body"><div ng-if="status.errorMessage" class="col-sm-12 alert alert-danger"><span ng-click="closeErrorMessage($index)" class="close">&times</span> {{status.errorMessage}}</div><form class="form-horizontal" style="margin-top: 15px" name="form" novalidate><div ng-if="!user.admin" class="form-group"><label class="col-sm-3 control-label">Grader:</label><div class="col-sm-4"><input type="text" name="grader" value="{{user.name}}" class="form-control" required disabled="disabled"></div></div><div ng-if="user.admin" class="form-group"><label class="col-sm-3 control-label">Graders:</label><div class="col-sm-4"><select ng-model="params.grader" class="form-control" name="grader" required><option ng-repeat="grader in graders | orderBy:name">{{grader.name}}</option></select></div></div><div class="form-group"><label class="col-sm-3 control-label">Student Work Id:</label><div class="col-sm-4"><input ng-model="params.studentWorkId" class="form-control" name="studentWorkId" placeholder="student work document id" required></div></div><div class="form-group"><label class="col-sm-3 control-label">Rubric:</label><div class="col-sm-4"><select class="form-control" name="rubric" required ng-options="rubric.name for rubric in rubrics track by rubric._id" ng-model="params.rubric"></select></div></div><div ng-if="rubric"><table class="table"><thead><th><strong>Scoring Elements</strong></th><th><button ng-if="!status.showAll" ng-click="showAll()" type="button" class="btn btn-xs btn-default">show all</button> <button ng-if="status.showAll" ng-click="hideAll()" type="button" class="btn btn-xs btn-default">hide all</button></th></thead><tbody><tr ng-repeat="field in rubric.fields" ng-init="fieldIndex = $index" ng-style="{\'background-color\': (rubric.fields[fieldIndex].visible) ? \'lightblue\' : \'\'}"><td style="width: 15%; vertical-align: middle" ng-style="{\'font-style\': (rubric.fields[fieldIndex].visible) ? \'italic\' : \'normal\', \'font-weight\': (rubric.fields[fieldIndex].visible) ? \'bold\' : \'normal\'}">{{field.name|capitalize}}</td><td style="vertical-align: middle"><div ng-if="params.score[field.name] && !rubric.fields[fieldIndex].visible">{{params.score[field.name]}} <button type="button" ng-click="editField(fieldIndex)" class="btn btn-xs btn-default" style="margin-left: 15px"><span style="margin: 0 2px"><i class="glyphicon glyphicon-pencil"></i> edit</span></button></div><div ng-if="rubric.fields[fieldIndex].visible" class="btn-group-custom" style="width: 100%; height: 100%"><button ng-repeat="detail in field.details" ng-click="scoreField(fieldIndex, field.name, detail.score)" class="btn" ng-class="{active: params.score[field.name] === detail.score}" style="white-space: normal; height: 100%" ng-style="{width: (detail.text) ? \'21%\' : \'5%\', \'font-size\': (detail.text) ? \'100%\' : \'80%\'}" type="button" uib-tooltip="{{(detail.text) ? detail.score : \'\'}}"><span ng-style="{margin: (detail.text) ? \'auto\' : \'-10px\'}">{{detail.text || detail.score}}</span></button></div></td></tr></tbody></table></div></form><hr><button ng-if="rubric" ng-click="click() && save()" class="btn btn-block btn-default" ng-class="{\'btn-success\': status.formValid}" style="max-width: 25%; margin: auto" type="submit">Save</button><p ng-if="status.clicked && !status.formValid" class="help-block text-center" style="color: red">* please score all fields before saving *</p></div>'),a.put("modules/main/graded-work/preview/view.html",'<div class="modal-header"><span ng-click="cancel()" class="close" style="margin: -10px -10px; padding: 10px 10px">&times;</span><h3 class="modal-title">Score Sheet Preview</h3></div><div class="modal-body"><ul><li style="margin-bottom: 5px"><strong>Grader:</strong> {{scoresheet.user.name}}</li><li style="margin-bottom: 5px"><strong>Essay:</strong> <a href="{{\'https://docs.google.com/viewerng/viewer?url=\'+scoresheet.essay.link}}" target="_blank">{{scoresheet.essay.id}}</a></li><li style="margin-bottom: 5px"><strong>Rubric:</strong> {{scoresheet.rubric.name}}</li><li style="margin-bottom: 5px"><strong>Avg Score:</strong> {{scoresheet.score|averageScore}}</li></ul><table class="table"><thead><th ng-repeat="field in fields" class="text-center">{{field|capitalize}}</th></thead><tbody><tr><td ng-repeat="field in fields" class="text-center">{{scoresheet.score[field]}}</td></tr></tbody></table></div>'),a.put("modules/main/graded-work/view.html",'<div class="jumbotron" style="background: #677F71; padding-top: 12px; padding-bottom: 18px"><h2 class="text-center" style="color: whitesmoke">Graded Work</h2></div><div class="container text-center" style="margin-bottom: 15px"><button ui-sref="grade" class="btn btn-success">Start Grading</button></div><div class="container text-center"><p ng-if="!user.admin">You have saved <strong>{{scoresheets.length}}</strong> score sheets.</p><p ng-if="user.admin">There are <strong>{{scoresheets.length}}</strong> total score sheets.</p></div><div ng-if="successMessages.length" class="container" style="max-width: 600px"><div ng-repeat="message in successMessages" class="alert alert-success" style="margin: 10px 0 0"><span ng-click="closeSuccessMessage($index)" class="close">&times</span> {{message}}</div></div><div ng-if="errorMessages.length" class="container" style="max-width: 600px"><div ng-repeat="message in errorMessages" class="alert alert-danger" style="margin: 10px 0 0"><span ng-click="closeErrorMessage($index)" class="close">&times</span> {{message}}</div></div><div ng-if="scoresheets.length" class="container"><table class="table table-bordered table-hover"><thead><th ng-repeat="field in fields">{{field|capitalize}}</th></thead><tbody><tr ng-repeat="sheet in scoresheets | orderBy:\'-created\'" ng-init="sheetIndex = $index+1" ng-click="editOrView(sheet)" style="cursor: pointer" uib-tooltip="{{(sheet.user._id === user._id) ? \'click to edit\' : \'click to view\'}}" tooltip-placement="right"><td ng-repeat="field in fields"><div ng-if="[\'no\', \'date\', \'grader\', \'essay\', \'rubric\', \'score\'].indexOf(field) < 0">{{sheet[field]}}</div><div ng-if="field === \'no\'">{{sheetIndex}}</div><div ng-if="field === \'date\'">{{sheet.created|date:\'short\'}}</div><div ng-if="field === \'grader\'">{{sheet.user.name}}</div><div ng-if="field === \'essay\'">{{sheet.essay.id}}</div><div ng-if="field === \'rubric\'">{{sheet.rubric.name}}</div><div ng-if="field === \'score\'">{{sheet.score|averageScore}}</div></td></tr></tbody></table></div><div ng-if="skippedEssays.$resolved && skippedEssays.length" class="container text-center"><hr><h3 style="color: red">Skipped Essays</h3><table class="table table-bordered table-hover"><thead><th>Grader</th><th>Essay</th><th>Skip Reason</th></thead><tbody ng-repeat="essay in skippedEssays" ui-sref="grade({essay: essay._id})" style="cursor: pointer" uib-tooltip="click to grade" tooltip-placement="right"><tr ng-repeat="skipObj in essay.skip"><td>{{skipObj.user.name}}</td><td>{{essay.id}}</td><td>{{skipObj.reason}}</td></tr></tbody></table></div>'),a.put("modules/main/graders/create/view.html",'<div class="modal-header"><span ng-click="cancel()" class="close" style="margin: -10px -10px; padding: 10px 10px">&times;</span><h3 class="modal-title">New Grader</h3></div><div class="modal-body"><div ng-if="status.errorMessage" class="col-sm-12 alert alert-danger"><span ng-click="closeErrorMessage($index)" class="close">&times</span> {{status.errorMessage}}</div><form class="form-horizontal" style="margin-top: 15px" name="form" id="form" ng-submit="click() && form.$valid && save()"><div class="form-group"><label class="col-sm-2 control-label">Name:</label><div class="col-sm-4"><input ng-model="params.firstName" class="form-control" name="firstName" type="text" placeholder="first name" required></div><div class="col-sm-5"><input ng-model="params.lastName" class="form-control" name="lastName" type="text" placeholder="last name" required></div></div><div class="form-group"><label class="col-sm-2 control-label">Email:</label><div class="col-sm-9"><input ng-model="params.email" class="form-control" name="email" type="email" ng-pattern="emailRegex" placeholder="email address" required></div></div><button type="submit" class="hidden"></button></form><hr><button ng-click="click() && form.$valid && save()" class="btn btn-block btn-default" ng-class="{\'btn-success\': (!form.$dirty && !status.clicked) || form.$valid}" style="max-width: 50%; margin: auto" type="button">Save</button><p ng-if="status.clicked && !form.$valid" class="help-block text-center" style="color: red">* first name, last name, and email are required *</p></div>'),a.put("modules/main/graders/view.html",'<div class="jumbotron" style="background: #677F71; padding-top: 12px; padding-bottom: 18px"><h2 class="text-center" style="color: whitesmoke">Graders</h2></div><div class="container text-center"><p>There are <strong>{{graders.length}}</strong> total graders.</p></div><div ng-if="successMessages.length" class="container" style="max-width: 600px"><div ng-repeat="message in successMessages" class="alert alert-success" style="margin: 10px 0 0"><span ng-click="closeSuccessMessage($index)" class="close">&times</span> {{message}}</div></div><div ng-if="errorMessages.length" class="container" style="max-width: 600px"><div ng-repeat="message in errorMessages" class="alert alert-danger" style="margin: 10px 0 0"><span ng-click="closeErrorMessage($index)" class="close">&times</span> {{message}}</div></div><div class="container"><table class="table table-bordered"><thead><th ng-repeat="field in fields">{{field|capitalize}}</th></thead><tbody><tr ng-repeat="grader in graders | orderBy:\'-created\'" ng-init="graderIndex = $index+1"><td ng-repeat="field in fields"><div ng-if="[\'no\', \'joined\', \'admin\'].indexOf(field) < 0">{{grader[field]}}</div><div ng-if="field === \'no\'">{{graderIndex}}</div><div ng-if="field === \'joined\'">{{grader.created|date:\'short\'}}</div><div ng-if="field === \'admin\'"><i ng-if="grader.admin" class="glyphicon glyphicon-ok"></i></div></td></tr></tbody></table></div>'),a.put("modules/main/home/view.html",'<div style="min-height: 100%; background-size: cover; background-position: center center; background-image: url(https://s3-us-west-2.amazonaws.com/pg-scoresheet/classroom-hands-raised_800.jpg)"><div class="jumbotron text-center" style="margin-bottom: 0; background-color: rgba(143, 188, 143, 0.95)"><h1>Score Sheet</h1><h4 style="color:gray">A Preva Group Project</h4></div><div class="jumbotron text-center clearfix" style="margin-bottom: 0; background: transparent"><div class="col-sm-offset-3 col-sm-6"><p ng-if="!user._id" style="background-color: white; opacity: 0.9; font-weight: bold; color: black; padding: 15px">Please <a ui-sref="user.signup">sign up</a> or <a ui-sref="user.login">login</a> to get started.</p><p ng-if="user._id" style="background-color: white; opacity: 0.9; font-weight: bold; color: black; padding: 15px">Please go to <a ui-sref="graded-work">graded work</a> to get started.</p></div></div></div>'),a.put("modules/main/user/views/forgot-password.html",'<h2 class="text-center" style="margin-bottom: 15px">Forgot Your Password</h2><div ng-if="status.successMessage" class="alert alert-success" style="max-width: 500px; margin: auto; margin-bottom: 10px"><span ng-click="closeSuccessMessage()" class="close">&times</span> {{status.successMessage}}</div><div ng-if="status.errorMessage" class="alert alert-danger" style="max-width: 500px; margin: auto; margin-bottom: 10px"><span ng-click="closeErrorMessage()" class="close">&times</span> {{status.errorMessage}}</div><div style="padding: 0 1px"><div style="max-width: 500px; margin: auto; padding: 15px; border: 1px solid; border-radius: 5px; background-color: lightblue"><form ng-submit="click() && form.$valid && sendPasswordResetLink()" ng-if="!status.processing" name="form" novalidate><div class="form-group"><label>email</label><div style="padding: 1px"><input type="email" name="email" ng-model="user.email" class="form-control" placeholder="email address" ng-pattern="emailRegex" required autofocus></div></div><button type="submit" class="btn btn-block btn-default" ng-class="{\'btn-success\': (!form.$dirty && !status.clicked) || form.$valid}" style="width: 50%; margin: 30px auto 15px">Send Me A Password Reset Link</button><div ng-if="status.clicked && !form.$valid" class="help-block text-center small" style="color: red; margin-top: 10px"><p ng-if="!form.email.$valid">* please provide a valid email address *</p></div></form><span ng-if="status.processing" class="spinner"></span></div></div>'),
a.put("modules/main/user/views/login.html",'<h2 class="text-center" style="margin-bottom: 15px">Login</h2><div ng-if="status.errorMessage" class="alert alert-danger" style="max-width: 500px; margin: auto; margin-bottom: 10px"><span ng-click="closeErrorMessage()" class="close">&times</span> <span ng-if="status.errorMessage === \'!user\'">We did not recognize your email address. Please try again or <a ng-click="goToSignUp()" style="cursor: pointer">sign up</a> .</span> <span ng-if="status.errorMessage === \'!validPassword\'">Your password is incorrect. Please try again or click <a ng-click="goToForgotPassword()" style="cursor: pointer">forgot password</a> .</span> <span ng-if="[\'!user\', \'!validPassword\'].indexOf(status.errorMessage) < 0">{{status.errorMessage}}</span></div><div style="padding: 0 1px"><div style="max-width: 500px; margin: auto; padding: 15px; border: 1px solid; border-radius: 5px; background-color: lightblue"><form ng-submit="click() && form.$valid && login()" ng-if="!status.processing" name="form" novalidate><div class="form-group"><label>email</label><div style="padding: 1px"><input type="email" name="email" ng-model="user.email" class="form-control" placeholder="email address" ng-pattern="emailRegex" required autofocus></div></div><div class="form-group has-feedback"><label>password</label><div style="padding: 1px"><input ng-if="!status.showPassword" type="password" name="password" ng-model="user.password" class="form-control" placeholder="password" ng-pattern="passwordRegex" required> <input ng-if="status.showPassword" type="text" name="password" ng-model="user.password" class="form-control" placeholder="password" ng-pattern="passwordRegex" required></div><span ng-if="user.password" ng-click="toggleShowPassword()" class="glyphicon form-control-feedback" ng-class="{\'glyphicon-eye-open\': !status.showPassword, \'glyphicon-eye-close\': status.showPassword}" style="color: darkgray; cursor: pointer; pointer-events: all" uib-tooltip="{{status.showPassword ? \'hide\' : \'show\'}}"></span></div><button type="submit" class="btn btn-block btn-default" ng-class="{\'btn-success\': (!form.$dirty && !status.clicked) || form.$valid}" style="width: 50%; margin: 30px auto 15px">Login</button><div class="text-center"><a ng-click="goToForgotPassword()" style="cursor: pointer">Forgot your Password?</a></div><div ng-if="status.clicked && !form.$valid" class="help-block text-center small" style="color: red; margin-top: 10px"><p ng-if="!form.email.$valid">* please provide a valid email address *</p><p ng-if="!form.password.$valid">* your password must be at least 6 characters *</p></div></form><span ng-if="status.processing" class="spinner"></span></div></div>'),a.put("modules/main/user/views/reset-password.html",'<h2 class="text-center" style="margin-bottom: 15px">Reset Your Password</h2><div ng-if="status.successMessage" class="alert alert-success" style="max-width: 500px; margin: auto; margin-bottom: 10px"><span ng-click="closeSuccessMessage()" class="close">&times</span> <span ng-if="status.successMessage === \'login\'">Your password has been reset. Please <a ng-click="goToLogin()" style="cursor: pointer">login</a> .</span> <span ng-if="[\'login\'].indexOf(status.successMessage) < 0">{{status.successMessage}}</span></div><div ng-if="status.errorMessage" class="alert alert-danger" style="max-width: 500px; margin: auto; margin-bottom: 10px"><span ng-click="closeErrorMessage()" class="close">&times</span> <span ng-if="status.errorMessage === \'!user\'">We didn\'t recognize your email address. Please try again.</span> <span ng-if="status.errorMessage === \'!validReset\'">Your reset link is no longer valid. Go to <a ng-click="goToForgotPassword()" style="cursor: pointer">forgot your password</a> and request a new link.</span> <span ng-if="[\'!user\', \'!validReset\'].indexOf(status.errorMessage) < 0">{{status.errorMessage}}</span></div><div style="padding: 0 1px"><div style="max-width: 500px; margin: auto; padding: 15px; border: 1px solid; border-radius: 5px; background-color: lightblue"><form ng-submit="click() && form.$valid && resetPassword()" ng-if="!status.processing" name="form" novalidate><div class="form-group"><label>email</label><div style="padding: 1px"><input type="email" name="email" ng-model="user.email" class="form-control" style="cursor: not-allowed" placeholder="email address" ng-pattern="emailRegex" readonly="readonly" required></div></div><div class="form-group has-feedback"><label>new password</label><div style="padding: 1px"><input ng-if="!status.showPassword" type="password" name="password" ng-model="user.password" class="form-control" placeholder="your new password" ng-pattern="passwordRegex" required autofocus> <input ng-if="status.showPassword" type="text" name="password" ng-model="user.password" class="form-control" placeholder="your new password" ng-pattern="passwordRegex" required autofocus></div><span ng-if="user.password" ng-click="toggleShowPassword()" class="glyphicon form-control-feedback" ng-class="{\'glyphicon-eye-open\': !status.showPassword, \'glyphicon-eye-close\': status.showPassword}" style="color: darkgray; cursor: pointer; pointer-events: all" uib-tooltip="{{status.showPassword ? \'hide\' : \'show\'}}"></span></div><button type="submit" class="btn btn-block btn-default" ng-class="{\'btn-success\': (!form.$dirty && !status.clicked) || form.$valid}" style="width: 50%; margin: 30px auto 15px">Reset Password</button><div ng-if="status.clicked && !form.$valid" class="help-block text-center small" style="color: red; margin-top: 10px"><p ng-if="!form.email.$valid">* please provide a valid email address *</p><p ng-if="!form.password.$valid">* your password must be at least 6 characters *</p></div></form><span ng-if="status.processing" class="spinner"></span></div></div>'),a.put("modules/main/user/views/settings.html",'<h2 class="text-center" style="margin-bottom: 15px">Settings</h2><div ng-if="status.successMessage" class="alert alert-success" style="max-width: 500px; margin: auto; margin-bottom: 10px"><span ng-click="closeSuccessMessage()" class="close">&times</span> {{status.successMessage}}</div><div ng-if="status.errorMessage" class="alert alert-danger" style="max-width: 500px; margin: auto; margin-bottom: 10px"><span ng-click="closeErrorMessage()" class="close">&times</span> {{status.errorMessage}}</div><div style="padding: 0 1px"><div style="max-width: 500px; margin: auto; padding: 15px; border: 1px solid; border-radius: 5px; background-color: lightblue"><form ng-submit="click() && form.$valid && updateSettings()" ng-if="!status.processing" name="form" novalidate><div class="form-group"><label>first name</label><div style="padding: 1px"><input type="text" name="firstName" ng-model="fullUser.firstName" class="form-control" placeholder="first name" required></div></div><div class="form-group"><label>last name</label><div style="padding: 1px"><input type="text" name="lastName" ng-model="fullUser.lastName" class="form-control" placeholder="last name" required></div></div><div class="form-group"><label>email</label><div style="padding: 1px"><input type="email" name="email" ng-model="fullUser.email" class="form-control" placeholder="email address" ng-pattern="emailRegex" required></div></div><div class="form-group has-feedback"><label>current password</label><div style="padding: 1px"><input ng-if="!status.showPassword" type="password" name="currentPassword" ng-model="fullUser.password" class="form-control" placeholder="password"> <input ng-if="status.showPassword" type="text" name="password" ng-model="fullUser.password" class="form-control" placeholder="password"></div><span ng-if="fullUser.password" ng-click="toggleShowPassword()" class="glyphicon form-control-feedback" ng-class="{\'glyphicon-eye-open\': !status.showPassword, \'glyphicon-eye-close\': status.showPassword}" style="color: darkgray; cursor: pointer; pointer-events: all" uib-tooltip="{{status.showPassword ? \'hide\' : \'show\'}}"></span></div><div class="form-group has-feedback"><label>new password</label><div style="padding: 1px"><input ng-if="!status.showPassword" type="password" name="newPassword" ng-model="fullUser.newPassword" class="form-control" placeholder="password"> <input ng-if="status.showPassword" type="text" name="password" ng-model="fullUser.newPassword" class="form-control" placeholder="password"></div><span ng-if="fullUser.password" ng-click="toggleShowPassword()" class="glyphicon form-control-feedback" ng-class="{\'glyphicon-eye-open\': !status.showPassword, \'glyphicon-eye-close\': status.showPassword}" style="color: darkgray; cursor: pointer; pointer-events: all" uib-tooltip="{{status.showPassword ? \'hide\' : \'show\'}}"></span></div><button type="submit" class="btn btn-block btn-default" ng-class="{\'btn-success\': (!form.$dirty && !status.clicked) || form.$valid}" style="width: 50%; margin: 30px auto 15px">Save</button><div ng-if="status.clicked && !form.$valid" class="help-block text-center small" style="color: red; margin-top: 10px"><p ng-if="!form.email.$valid">* please provide a valid email address *</p><p ng-if="!form.newPassword.$valid">* passwords must be at least 6 characters *</p></div></form><span ng-if="status.processing" class="spinner"></span></div></div>'),a.put("modules/main/user/views/sign-up.html",'<h2 class="text-center" style="margin-bottom: 15px">Sign Up</h2><div ng-if="status.errorMessage" class="alert alert-danger" style="max-width: 500px; margin: auto; margin-bottom: 10px"><span ng-click="closeErrorMessage()" class="close">&times</span> <span ng-if="[\'!newEmail\'].indexOf(status.errorMessage) < 0">{{status.errorMessage}}</span> <span ng-if="status.errorMessage === \'!newEmail\'">You already have an account. Please <a ui-sref="user.login" style="cursor: pointer">login</a>.</span></div><div style="padding: 0 1px"><div style="max-width: 500px; margin: auto; padding: 15px; border: 1px solid; border-radius: 5px; background-color: lightblue"><form ng-submit="click() && form.$valid && signUp()" ng-if="!status.processing" name="form" novalidate><div class="form-group"><label>name</label><div class="col-xs-12" style="padding: 0; margin-bottom: 15px"><div class="col-sm-6 col-xs-12" style="padding: 1px"><input type="text" name="firstName" class="form-control" ng-model="user.firstName" placeholder="first name" required autofocus></div><div class="col-sm-6 col-xs-12" style="padding: 1px"><input type="text" name="lastName" class="form-control" ng-model="user.lastName" placeholder="last name" required></div></div></div><div class="form-group"><label>email</label><div style="padding: 1px"><input type="email" name="email" ng-model="user.email" class="form-control" placeholder="email address" ng-pattern="emailRegex" required></div></div><div class="form-group has-feedback"><label>password</label><div style="padding: 1px"><input ng-if="!status.showPassword" type="password" name="password" ng-model="user.password" class="form-control" placeholder="password" ng-pattern="passwordRegex" required> <input ng-if="status.showPassword" type="text" name="password" ng-model="user.password" class="form-control" placeholder="password" ng-pattern="passwordRegex" required></div><span ng-if="user.password" ng-click="toggleShowPassword()" class="glyphicon form-control-feedback" ng-class="{\'glyphicon-eye-open\': !status.showPassword, \'glyphicon-eye-close\': status.showPassword}" style="color: darkgray; cursor: pointer; pointer-events: all" uib-tooltip="{{status.showPassword ? \'hide\' : \'show\'}}"></span></div><button type="submit" class="btn btn-block btn-default" ng-class="{\'btn-success\': (!form.$dirty && !status.clicked) || form.$valid}" style="width: 50%; margin: auto; margin-top: 30px">Sign Up!</button><div ng-if="status.clicked && !form.$valid" class="help-block text-center small" style="color: red; margin-top: 10px"><p ng-if="!form.firstName.$valid">* first name is required *</p><p ng-if="!form.lastName.$valid">* last name is required *</p><p ng-if="!form.email.$valid">* please provide a valid email address *</p><p ng-if="!form.password.$valid">* your password must be at least 6 characters *</p></div></form><span ng-if="status.processing" class="spinner"></span></div></div>'),a.put("modules/main/welcome/view.html",'<div class="jumbotron text-center" style="margin-bottom: 0; background-color: darkseagreen"><h1>Welcome</h1></div><div class="jumbotron img-responsive" style="min-height: 600px; margin-bottom: 0; background-size: cover; background-image: url(https://s3-us-west-2.amazonaws.com/pg-scoresheet/girl-writing-pencil_800.jpg)"><div class="col-sm-1"></div><div class="col-sm-5"><h2>Thanks for grading!</h2><br><p style="margin-left: 15px">To get started...</p><ol><li style="margin-bottom: 15px">Go to the <button ui-sref="graded-work" class="btn btn-sm btn-default" style="margin: 0 5px"><i class="glyphicon glyphicon-pencil"></i> Graded Work</button> page.</li><li style="margin-bottom: 15px">Click the <button class="btn btn-sm btn-success" style="margin: 0 5px">Start Grading</button> button.</li></ol></div></div>'),a.put("modules/parts/navbar/view.html",'<nav ng-hide="\'grade\' | isState" class="navbar navbar-default" style="margin-bottom: 0"><div class="container-fluid"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" ng-click="toggleNavbar()"><span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="navbar-brand" href ui-sref="home">Score Sheet</a></div><div class="collapse navbar-collapse" id="navbar-collapse"><ul class="nav navbar-nav" ng-if="user._id"><li ng-if="user.admin" ui-sref-active="active"><a href ui-sref="graders"><i class="glyphicon glyphicon-user"></i> Graders</a></li><li ui-sref-active="active"><a href ui-sref="graded-work"><i class="glyphicon glyphicon-pencil"></i> Graded Work</a></li><li ng-if="user.consensusScores" ui-sref-active="active"><a href ui-sref="consensus-scores"><i class="glyphicon glyphicon-equalizer"></i> Consensus Scores</a></li><li ng-if="user.admin" ui-sref-active="active"><a href ui-sref="download"><i class="glyphicon glyphicon-cloud-download"></i> Download</a></li></ul><ul class="nav navbar-nav navbar-right"><li class="dropdown" uib-dropdown ng-if="user._id"><a href="#" class="dropdown-toggle" uib-dropdown-toggle>{{user.name}} <span class="caret"></span></a><ul class="dropdown-menu" uib-dropdown-menu role="menu"><li><a href ui-sref="user.settings">Settings</a></li><li role="separator" class="divider"></li><li><a href="#" ng-click="logout($event)">Logout</a></li></ul></li><li ui-sref-active="active" ng-if="!user._id"><a href ui-sref="user.signup">Sign Up</a></li><li ui-sref-active="active" ng-if="!user._id"><a href ui-sref="user.login">Login</a></li></ul></div></div></nav>')}]);