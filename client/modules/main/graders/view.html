<!-- Graders -->

<!-- title -->
<div class="jumbotron"
     style="background: #677F71; padding-top: 12px; padding-bottom: 18px;">
    <h2 class="text-center"
        style="color: whitesmoke;">
        Graders
    </h2>
</div>

<!-- new button -->
<div class="container text-center"
     style="margin-bottom: 15px;">
    <button ng-click="newGrader()"
            class="btn btn-success">
        + Add Grader
    </button>
</div>

<!-- total count -->
<div class="container text-center">
    <p>
        There are <strong>{{graders.length}}</strong> total graders.
    </p>
</div>

<!-- messages -->
<div ng-if="successMessages.length"
     class="container"
     style="max-width: 600px;">
    <div ng-repeat="message in successMessages"
         class="alert alert-success"
         style="margin: 10px 0 0;">
        <span ng-click="closeSuccessMessage($index)"
              class="close">
            &times
        </span>
        {{message}}
    </div>
</div>
<div ng-if="errorMessages.length"
     class="container"
     style="max-width: 600px;">
    <div ng-repeat="message in errorMessages"
         class="alert alert-danger"
         style="margin: 10px 0 0;">
        <span ng-click="closeErrorMessage($index)"
              class="close">
            &times
        </span>
        {{message}}
    </div>
</div>

<!-- table -->
<div class="container">
    <table class="table table-bordered table-hover">
        <thead>
            <th ng-repeat="field in fields">
                {{field|capitalize}}
            </th>
        </thead>
        <tbody>
            <tr ng-repeat="grader in graders | orderBy:'-created'"
                ng-init="graderIndex = $index+1"
                ng-click="editGrader(grader)"
                style="cursor: pointer;"
                uib-tooltip="click to view/edit"
                tooltip-placement="right">
                <td ng-repeat="field in fields">
                    <div ng-if="['no', 'joined', 'admin'].indexOf(field) < 0">
                        {{grader[field]}}
                    </div>
                    <div ng-if="field === 'no'">
                        {{graderIndex}}
                    </div>
                    <div ng-if="field === 'joined'">
                        {{grader.created|date:'short'}}
                    </div>
                    <div ng-if="field === 'admin'">
                        <i ng-if="grader.admin"
                           class="glyphicon glyphicon-ok"></i>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>